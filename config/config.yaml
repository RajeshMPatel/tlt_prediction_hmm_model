project:
  name: tlt_vix_web
  timezone: America/New_York

paths:
  raw_data_dir: data/raw
  processed_data_dir: data/processed
  charts_dir: reports/charts
  daily_reports_dir: reports/daily

data:
  start_date: "2007-01-01"
  end_date: null
  yfinance:
    tlt_symbol: "TLT"
    vix_symbol: "^VIX"
    spy_symbol: "SPY"
    dxy_symbol: "DX-Y.NYB"
    max_retries: 5
    retry_base_seconds: 2.0
    retry_backoff: 2.0
    request_pause_seconds: 0.5
    threads: false
  stooq:
    enabled: true
    tlt_symbol: "tlt.us"
    vix_symbol: "vi.f"
    spy_symbol: "spy.us"
    dxy_symbol: "dxy.f"
  fred:
    required_series:
      DGS2: "DGS2"
      DGS10: "DGS10"
      DGS20: "DGS20"
      DGS30: "DGS30"
      T10Y2Y: "T10Y2Y"
      VIXCLS: "VIXCLS"
      T10YIE: "T10YIE"
      BAMLH0A0HYM2: "BAMLH0A0HYM2"
    optional_global_10y_series:
      # Placeholders for future integration. Keep code empty or map to valid
      # FRED/other compatible IDs if available in your environment.
      JAPAN10Y: null
      GERMANY10Y: null
      UK10Y: null

features:
  horizon_days: 5
  realized_vol_window: 20
  price_columns:
    tlt_close: "tlt_close"
    vix_close: "vix_close"
    spy_close: "spy_close"
    dxy_close: "dxy_close"
  fred_columns:
    us10y: "DGS10"
    curve_slope: "T10Y2Y"
    inflation_expectations: "T10YIE"
    credit_spread: "BAMLH0A0HYM2"
  feature_columns:
    - tlt_return
    - vix_return
    # Multi-timeframe Volatility (User Request):
    # To detect regime changes faster (e.g. 5d vol spiking > 60d vol).
    - realized_vol_5d
    - realized_vol_20d
    - realized_vol_60d
    - tlt_rsi_14
    - vix_rsi_14
    # Sentiment & Macro (User Request):
    # "Expert Opinion" features to give the model economic context.
    - synthetic_fear_greed
    - dxy_return
    - tlt_spy_corr_60d
    - tlt_mom_5
    - tlt_mom_20
    - vix_mom_5
    - vix_mom_20
    - tlt_trend_gap_20
    - vix_trend_gap_20
    - tlt_channel_pos_20
    - vix_channel_pos_20
    - us10y_change
    - curve_slope
    - global_yield_change_mean
    - inflation_expectations
    - credit_spread
    # Real Yield (User Request):
    # Nominal 10Y - Inflation Expectations. The #1 driver of TLT prices.
    # Added to capture the "true" cost of money.
    - real_yield_10y

model:
  n_regimes: 3
  # Ensemble Size: Number of HMM models to train and average.
  # User requested this to stabilize predictions (reduce "coin flip" variance).
  ensemble_size: 10
  covariance_type: full
  n_iter: 500
  random_state: 42
  backtest_splits: 5
  backtest_min_train_rows: 500
  decision_policy:
    enabled: true
    rolling_oos_rows: 1000
    min_bucket_rows: 120
    neutral_band: 0.02
    thresholds:
      - 0.55
      - 0.60
      - 0.65
    strong:
      min_hit_rate: 0.62
      candidate_thresholds:
        - 0.65
        - 0.60
    moderate:
      min_hit_rate: 0.55
      candidate_thresholds:
        - 0.60
        - 0.55
  smoothing:
    enabled: true
    span: 3

reporting:
  chart_lookback_days: 260
